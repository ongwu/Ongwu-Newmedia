<!-- 页脚 -->
<footer class="footer">
  <div class="container footer-container">
    <!-- 页脚内容区域 -->
    <div class="footer-content">
      <!-- 左侧：网站信息 -->
      <div class="footer-info">
        <div class="footer-logo">
          <a href="<%- url_for('/') %>" class="logo">
            <% if (theme.footer && theme.footer.logo && theme.footer.logo.enable) { %>
              <img src="<%- url_for(theme.footer.logo.path) %>" alt="<%= config.title %>" class="footer-logo-image">
            <% } else { %>
              <span class="footer-logo-text"><%= config.title %></span>
            <% } %>
          </a>
        </div>
        
        <p class="footer-description" data-translate="<%= config.description %>">
          <%= config.description %>
        </p>
        
        <!-- 社交媒体链接 -->
        <% if (theme.social && theme.social.length > 0) { %>
          <div class="social-links">
            <% theme.social.forEach(function(item) { %>
              <a href="<%- url_for(item.url) %>" class="social-link" target="_blank" rel="noopener noreferrer" title="<%= item.name %>">
                <i class="fa fa-<%= item.icon %> social-icon"></i>
              </a>
            <% }); %>
          </div>
        <% } %>
      </div>
      
      <!-- 中间：导航链接 -->
      <div class="footer-nav">
        <h4 class="footer-nav-title" data-translate="导航">导航</h4>
        <ul class="footer-nav-list">
          <li class="footer-nav-item">
            <a href="<%- url_for('/') %>" class="footer-nav-link" data-translate="首页">首页</a>
          </li>
          <li class="footer-nav-item">
            <a href="<%- url_for('/archives') %>" class="footer-nav-link" data-translate="文章">文章</a>
          </li>
          <li class="footer-nav-item">
            <a href="<%- url_for('/categories') %>" class="footer-nav-link" data-translate="分类">分类</a>
          </li>
          <li class="footer-nav-item">
            <a href="<%- url_for('/tags') %>" class="footer-nav-link" data-translate="标签">标签</a>
          </li>
          <li class="footer-nav-item">
            <a href="<%- url_for('/about') %>" class="footer-nav-link" data-translate="关于">关于</a>
          </li>
        </ul>
      </div>
      
      <!-- 右侧：订阅和联系 -->
      <div class="footer-subscribe">
        <h4 class="footer-subscribe-title" data-translate="订阅">订阅</h4>
        
        <!-- RSS订阅 -->
        <div class="rss-subscribe">
          <a href="<%- url_for(config.feed && config.feed.path ? config.feed.path : '/rss.xml') %>" class="rss-link" target="_blank" rel="noopener noreferrer" title="RSS Feed">
            <i class="fa fa-rss rss-icon"></i>
            <span class="rss-text" data-translate="RSS订阅">RSS订阅</span>
          </a>
        </div>
        
        <!-- 邮件订阅 -->
        <% if (theme.mailchimp && theme.mailchimp.enable) { %>
          <div class="email-subscribe">
            <form action="<%= theme.mailchimp.action_url %>" method="post" target="_blank" class="subscribe-form">
              <input type="email" name="EMAIL" placeholder="<%= __('请输入您的邮箱地址') %>" class="subscribe-input" data-translate-placeholder="请输入您的邮箱地址">
              <button type="submit" class="subscribe-button" data-translate="订阅">订阅</button>
            </form>
          </div>
        <% } %>
        
        <!-- 联系信息 -->
        <% if (theme.contact && theme.contact.enable) { %>
          <div class="footer-contact">
            <h4 class="footer-contact-title" data-translate="联系我们">联系我们</h4>
            <ul class="footer-contact-list">
              <% if (theme.contact.email) { %>
                <li class="footer-contact-item">
                  <a href="mailto:<%= theme.contact.email %>" class="footer-contact-link" title="邮箱">
                    <i class="fa fa-envelope contact-icon"></i>
                    <span class="contact-text"><%= theme.contact.email %></span>
                  </a>
                </li>
              <% } %>
              <% if (theme.contact.github) { %>
                <li class="footer-contact-item">
                  <a href="https://github.com/<%= theme.contact.github %>" class="footer-contact-link" target="_blank" rel="noopener noreferrer" title="GitHub">
                    <i class="fa fa-github contact-icon"></i>
                    <span class="contact-text"><%= theme.contact.github %></span>
                  </a>
                </li>
              <% } %>
            </ul>
          </div>
        <% } %>
      </div>
    </div>
    
    <!-- 页脚底部区域 -->
    <div class="footer-bottom">
      <!-- 版权信息 -->
      <div class="copyright">
        <p class="copyright-text">
          <span data-translate="© %s 版权所有">©</span>
          <a href="<%- url_for('/') %>" class="copyright-link"><%= config.title %></a>
          <span> | </span>
          <span data-translate="保留所有权利">保留所有权利</span>
        </p>
      </div>
      
      <!-- 主题信息 -->
      <div class="theme-info">
        <p class="theme-text">
          <a href="https://hexo.io" target="_blank" rel="noopener noreferrer" class="hexo-link">Hexo</a>
          <span> | </span>
          <a href="#" class="theme-link" target="_blank" rel="noopener noreferrer">Ongwu Theme</a>
        </p>
      </div>
      
      <!-- 备案信息 -->
      <% if (theme.icp && theme.icp.enable) { %>
        <div class="icp-info">
          <a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="icp-link">
            <%= theme.icp.code %>
          </a>
        </div>
      <% } %>
    </div>
  </div>
</footer>

<!-- 页脚相关脚本 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 返回顶部按钮功能由layout.ejs统一管理
      
      // 订阅表单提交验证
    const subscribeForm = document.querySelector('.subscribe-form');
    
    if (subscribeForm) {
      subscribeForm.addEventListener('submit', function(e) {
        const emailInput = this.querySelector('input[type="email"]');
        const email = emailInput.value.trim();
        
        // 简单的邮箱格式验证
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (!email || !emailRegex.test(email)) {
          e.preventDefault();
          emailInput.classList.add('error');
          
          // 添加抖动动画
          emailInput.style.animation = 'none';
          void emailInput.offsetWidth; // 触发重排
          emailInput.style.animation = 'shake 0.5s ease-in-out';
          
          // 移除错误类和动画
          setTimeout(function() {
            emailInput.classList.remove('error');
            emailInput.style.animation = '';
          }, 1000);
        }
      });
      
      // 输入时移除错误类
      const emailInput = subscribeForm.querySelector('input[type="email"]');
      if (emailInput) {
        emailInput.addEventListener('input', function() {
          this.classList.remove('error');
          this.style.animation = '';
        });
      }
    }
    
    // 社交媒体链接悬停效果
    const socialLinks = document.querySelectorAll('.social-link');
    
    socialLinks.forEach(link => {
      link.addEventListener('mouseenter', function() {
        const icon = this.querySelector('.social-icon');
        // 添加缩放和颜色变化动画
        icon.style.transform = 'scale(1.2)';
        icon.style.transition = 'all 0.3s ease';
      });
      
      link.addEventListener('mouseleave', function() {
        const icon = this.querySelector('.social-icon');
        // 恢复默认样式
        icon.style.transform = 'scale(1)';
      });
    });
    
    // 页脚滚动动画
    const footer = document.querySelector('.footer');
    
    if (footer) {
      const observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            footer.classList.add('footer-visible');
            observer.unobserve(footer);
          }
        });
      }, { threshold: 0.1 });
      
      observer.observe(footer);
    }
    
    // 添加页脚CSS动画样式
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      
      .back-to-top-btn.active {
        transform: scale(1.2);
        transition: transform 0.3s ease;
      }
      
      .footer {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease, transform 0.8s ease;
      }
      
      .footer-visible {
        opacity: 1;
        transform: translateY(0);
      }
      
      .subscribe-input.error {
        border-color: #ff4d4f;
        background-color: #fff2f0;
      }
      
      .social-link:hover .social-icon {
        color: #4285f4;
      }
    `;
    
    document.head.appendChild(style);
  });
</script>